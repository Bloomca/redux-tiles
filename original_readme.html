
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Read Me Â· Redux-Tiles documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        <meta name="author" content="Seva Zaikov <seva.zaikov@gmail.com>">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="introduction/" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="original_readme.html">
            
                <a href="original_readme.html">
            
                    
                    Read Me
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="introduction/">
            
                <a href="introduction/">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="introduction/Motivation.html">
            
                <a href="introduction/Motivation.html">
            
                    
                    Motivation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="introduction/Boilerplate.html">
            
                <a href="introduction/Boilerplate.html">
            
                    
                    Redux Boilerplate Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="introduction/Comparison.html">
            
                <a href="introduction/Comparison.html">
            
                    
                    Comparison with other Solutions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="introduction/Example.html">
            
                <a href="introduction/Example.html">
            
                    
                    Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="api/">
            
                <a href="api/">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="api/createTile.html">
            
                <a href="api/createTile.html">
            
                    
                    createTile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="api/createSyncTile.html">
            
                <a href="api/createSyncTile.html">
            
                    
                    createSyncTile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="api/createMiddleware.html">
            
                <a href="api/createMiddleware.html">
            
                    
                    createMiddleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="api/createActions.html">
            
                <a href="api/createActions.html">
            
                    
                    createActions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="api/createReducers.html">
            
                <a href="api/createReducers.html">
            
                    
                    createReducers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="api/createSelectors.html">
            
                <a href="api/createSelectors.html">
            
                    
                    createSelectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="api/createEntities.html">
            
                <a href="api/createEntities.html">
            
                    
                    createEntities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="advanced/">
            
                <a href="advanced/">
            
                    
                    Advanced
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="advanced/integration.html">
            
                <a href="advanced/integration.html">
            
                    
                    Integration with existing project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="advanced/nesting.html">
            
                <a href="advanced/nesting.html">
            
                    
                    Nesting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="advanced/selectors.html">
            
                <a href="advanced/selectors.html">
            
                    
                    Selectors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="examples/">
            
                <a href="examples/">
            
                    
                    Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="examples/calculator.html">
            
                <a href="examples/calculator.html">
            
                    
                    Calculator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="examples/hacker-news-api.html">
            
                <a href="examples/hacker-news-api.html">
            
                    
                    HackerNews API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Read Me</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="redux-tiles">Redux-Tiles</h1>
<p><a href="https://travis-ci.org/Bloomca/redux-tiles" target="_blank"><img src="https://travis-ci.org/Bloomca/redux-tiles.svg?branch=master" alt="Build Status"></a>
<a href="https://badge.fury.io/js/redux-tiles" target="_blank"><img src="https://badge.fury.io/js/redux-tiles.svg" alt="npm version"></a>
<a href="https://coveralls.io/github/Bloomca/redux-tiles?branch=master" target="_blank"><img src="https://coveralls.io/repos/github/Bloomca/redux-tiles/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://david-dm.org/bloomca/redux-tiles" target="_blank"><img src="https://david-dm.org/bloomca/redux-tiles/status.svg" alt="dependencies Status"></a></p>
<p><strong><a href="https://redux-tiles.js.org/" target="_blank">Documentation</a></strong></p>
<p>Redux is an awesome library to keep state management sane on scale. The problem, though, is that it is toooo verbose, and often you&apos;d feel like you are doing literally the same thing again and again. This library tries to provide minimal abstraction on top of Redux, to allow easy composability, easy async requests, and sane testability.
It is possible to start using this library <a href="https://bloomca.github.io/redux-tiles/advanced/integration.html" target="_blank">in existing project</a>, adding new functionality gradually.</p>
<blockquote>
<p><strong><a href="http://blog.bloomca.me/2017/06/02/why-i-created-redux-tiles-library.html" target="_blank">More about rationale behind this library</a></strong><br></p>
<p><strong><a href="examples">Examples</a></strong></p>
<ul>
<li><a href="examples/calculator">Calculator</a></li>
<li><a href="examples/todomvc">TodoMVC</a></li>
<li><a href="examples/hacker-news-api">Hacker News API</a></li>
<li><a href="examples/github-api">Github API</a></li>
</ul>
</blockquote>
<h2 id="installation">Installation</h2>
<p>To install latest stable version, run:</p>
<pre><code class="lang-shell">npm install --save redux-tiles
</code></pre>
<p>This package was built with the idea in mind, that people will use it usually using some bundling tool &#x2013; <a href="https://webpack.js.org/" target="_blank">Webpack</a>, <a href="http://browserify.org/" target="_blank">Browserify</a> or <a href="http://rollupjs.org/" target="_blank">Rollup</a>. The package itself is written in TypeScript, and therefore provides typings out of the box.</p>
<p>If you for some reason don&apos;t use bundler, you can use UMD builds, which are located in <a href="https://unpkg.com/redux-tiles@0.6.1/dist/" target="_blank">dist folder</a>. Just include it in your page via <code>script</code> tag, and then you will have it under <code>window.ReduxTiles</code> global variable.</p>
<h2 id="toc">TOC:</h2>
<ul>
<li><a href="#user-content-example-of-use">Example of use</a></li>
<li><a href="#user-content-rationale">Rationale</a></li>
<li><a href="#user-content-integration-api">Integration API</a></li>
<li><a href="#user-content-tiles-api">Tiles API</a></li>
<li><a href="#user-content-nesting">Nesting</a></li>
<li><a href="#user-content-middleware">Middleware</a></li>
<li><a href="#user-content-server-side-rendering">Server-side Rendering</a></li>
<li><a href="#user-content-selectors">Selectors</a></li>
<li><a href="#user-content-tests">Tests</a></li>
</ul>
<h2 id="example-of-use">Example of use</h2>
<blockquote>
<p><a href="https://redux-tiles.js.org/introduction/Example.html" target="_blank">More comprehensive example</a></p>
</blockquote>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { createTile, createSyncTile } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux-tiles&apos;</span>;

<span class="hljs-comment">// sync tile to store information without any async stuff</span>
<span class="hljs-keyword">const</span> loginStatus = createSyncTile({
  type: [<span class="hljs-string">&apos;user&apos;</span>, <span class="hljs-string">&apos;loginStatus&apos;</span>],
  fn: ({ params: status }) =&gt; ({
    status,
    timestamp: <span class="hljs-built_in">Date</span>.now(),
  }),
});

<span class="hljs-comment">// request to the server</span>
<span class="hljs-comment">// it is absolutely separated, so it is very easy</span>
<span class="hljs-comment">// to compose different requests</span>
<span class="hljs-keyword">const</span> authRequest = createTile({
  type: [<span class="hljs-string">&apos;user&apos;</span>, <span class="hljs-string">&apos;authRequest&apos;</span>],
  <span class="hljs-comment">// we have access to dispatch, actions, selectors, etc &#x2013;</span>
  <span class="hljs-comment">// we can pass all what we need when creating middleware</span>
  <span class="hljs-comment">// it allows us to test easier, and also compose other tiles</span>
  fn: ({ params, api, dispatch, actions, getState }) =&gt;
    api.post(<span class="hljs-string">&apos;/login&apos;</span>, params),
});

<span class="hljs-comment">// actual business logic</span>
<span class="hljs-comment">// note that we don&apos;t use direct `api` calls here</span>
<span class="hljs-comment">// we just compose other basic tiles</span>
<span class="hljs-keyword">const</span> authUser = createTile({
  type: [<span class="hljs-string">&apos;user&apos;</span>, <span class="hljs-string">&apos;auth&apos;</span>],
  fn: <span class="hljs-keyword">async</span> ({ params, dispatch, actions, selectors, getState }) =&gt; {
    <span class="hljs-comment">// login user</span>
    <span class="hljs-keyword">await</span> dispatch(actions.tiles.user.authRequest(params));

    <span class="hljs-comment">// check the result</span>
    <span class="hljs-keyword">const</span> { data: { id }, error } = selectors.tiles.user.authRequest(getState());

    <span class="hljs-keyword">if</span> (error) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(error);
    }

    <span class="hljs-comment">// set up synchronously user status</span>
    dispatch(actions.tiles.user.loginStatus(<span class="hljs-literal">true</span>));

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  },
});
</code></pre>
<h2 id="rationale">Rationale</h2>
<p>There are enough projects around to keep your state management clean (for <a href="https://github.com/erikras/ducks-modular-redux" target="_blank">example</a>), but they are mostly about organizing, rather than removing burden of repetitive stuff from the developer. Other packages offer you full-fledge integration with REST-API, <a href="https://github.com/paularmstrong/normalizr" target="_blank">normalizing</a> your entities, building relations between models, etc. There is nothing like this here &#x2013; in fact, if you need something like this, with the ability to query your local &quot;database&quot;, I highly advise you to create your own solution, which will be custom-tailored to your specific problem.</p>
<p>This package focuses on very basic blocks, which are good for pretty simple applications (e.g. login/logout, fetch client data, set up calculator values).</p>
<h2 id="integration-api">Integration API</h2>
<p>Despite being easy-to-use package to write new modules, you&apos;d have to do some work to integrate it into your project. In a nutshell, you have to have a middleware which will handle returned functions from dispatched actions (one is provided in this package, but <a href="https://github.com/gaearon/redux-thunk" target="_blank">redux-thunk</a> will suffice as well), and then you have to combine all modules to create actions &amp; reducers.
It is better to see in a small example:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { createTile, createEntities, createMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux-tiles&apos;</span>;
<span class="hljs-keyword">import</span> { createStore, applyMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux&apos;</span>;

<span class="hljs-keyword">const</span> clientDataTile = createTile({
  type: [<span class="hljs-string">&apos;client&apos;</span>, <span class="hljs-string">&apos;data&apos;</span>],
  fn: ({ api, params}) =&gt; api.get(<span class="hljs-string">&apos;/client/info&apos;</span>),
});

<span class="hljs-keyword">const</span> tiles = [
  clientDataTile,
];

<span class="hljs-keyword">const</span> { actions, reducer, selectors } = createEntities(tiles);

<span class="hljs-comment">// we inject `actions` and `selectors` into middleware, so they</span>
<span class="hljs-comment">// will be available inside `fn` function of all tiles</span>
<span class="hljs-keyword">const</span> { middleware } = createMiddleware({ actions, selectors });

createStore(reducer, applyMiddleware(middleware));
</code></pre>
<h2 id="tiles-api">Tiles API</h2>
<p>Tiles are the heart of this library. They are intended to be very easy to use, compose and to test.
There are two types of tiles &#x2013; asynchronous and synchronous. Modern applications are very dynamic, so async ones will be likely used more often. Also, don&apos;t constrain yourself into the mindset that async tiles are only for API communication &#x2013; it might be anything, which involves some asynchronous interaction (as well as composing other tiles) &#x2013; for instance, long polling implementation.</p>
<blockquote>
<p><a href="https://redux-tiles.js.org/api/createTile.html" target="_blank">Full documentation for async tiles</a>
```javascript
import { createTile } from &apos;redux-tiles&apos;;</p>
</blockquote>
<p>const photos = createTile({
  // they will be structured api.photos inside redux state,
  // and also available under actions and selectors as:
  // actions.tiles.api.photos
  type: [&apos;api&apos;, &apos;photos&apos;],</p>
<p>  // params is an object with which we dispatch the action
  // you can pass only one parameter, so keep it as an object
  // with different properties
  //
  // all other properties are from your middleware
  // fn expects promise out of this function
  fn: ({ params, api }) =&gt; api.get(&apos;/photos&apos;, params),</p>
<p>  // to nest data:
  // { 5:
  //    10: {
  //      isPending: true,
  //      fetched: false,
  //      data: null,
  //      error: null,
  //   },
  // },
  // if you save under the same nesting array, data will be replaced
  // other branches will be merged
  nesting: (params) =&gt; [params.page, params.count],</p>
<p>  // unless we will invoke with second parameter object with asyncForce: true,
  // it won&apos;t be requested again
  // dispatch(actions.tiles.api.photos(params, { asyncForce: true }))
  caching: true,
});</p>
<pre><code>
We also sometimes want to keep some sync info (e.g. list of notifications), or we want to store some numbers for calculator, or active filters ([todoMVC](http://todomvc.com/) is a good example of a lot of synchronous operations). In this situation we will use `createSyncTile`, which has no meta data like `isPending`, `error` or `fetched`, but keeps all returned data from a function directly in state.

&gt; [Full documentation for sync tiles](https://redux-tiles.js.org/api/createSyncTile.html)

```javascript
import { createSyncTile } from &apos;redux-tiles&apos;;

const notifications = createSyncTile({
  type: [&apos;notifications&apos;],


  // all parameters are the same as in async tile
  fn: ({ params, dispatch, actions }) =&gt; {
    // we can dispatch async actions &#x2013; but we can&apos;t wait
    // for it inside sync tiles
    dispatch(actions.tiles.user.dismissTerms());

    return {
      type: params.type,
      data: processData(params.data),
    };
  },

  // alternatively, if you perform some actions on existing data,
  // it might be useful to write more declarative actions
  // they have exactly the same signature and dispatch returned data
  // to the tile
  fns: {
    add: ({ params, selectors, getState}) =&gt; {
      const currentData = selectors.notifications(getState(), params);

      return {
        ...currentData,
        data: currentData.concat(params.data),
      };
    },
  },

  // you can pass initial state to sync tile
  // please, be careful with it! if you use nesting, then
  // you have to specify nested items (otherwise selectors will
  // return undefined for your nested item)
  initialState: {
    terms: {
      type: &apos;terms&apos;,
      data: []
    },
  },

  // nesting works the same way
  nesting: ({ type }) =&gt; [type],
});
</code></pre><h2 id="nesting">Nesting</h2>
<blockquote>
<p><a href="https://redux-tiles.js.org/advanced/nesting.html" target="_blank">Full documentation on nesting</a></p>
</blockquote>
<p>Very often we have to separate some info, and with canonical redux we have to write something like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">case</span> ACTION.SOME_CONSTANT:
  <span class="hljs-keyword">return</span> {
    ...state,
    [action.payload.id]: {
      [action.payload.quantity]: {
        ...state[action.payload.id],
        ...action.payload.data,
      },
    },
  };
</code></pre>
<p>Or with <code>Object.assign</code>, which will make it even less readable. This is a pretty common pattern, and also pretty error prone &#x2013; so we have to cover such code with unit-tests, while in reality they don&apos;t do a lot of intrinsic logic &#x2013; just merge. Of course, we can use something like <code>lodash.merge</code>, but it is not always suitable. In tiles we have <code>nesting</code> property, in which you can specify a function from which you can return an array of nested values. The same code as above:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> infoTile = createTile({
  type: [<span class="hljs-string">&apos;info&apos;</span>, <span class="hljs-string">&apos;storage&apos;</span>],

  <span class="hljs-comment">// params here and in nesting are the same object</span>
  fn: ({ params: { quantity, id }, api }) =&gt; api.get(<span class="hljs-string">&apos;/storage&apos;</span>, { quantity, id }),

  <span class="hljs-comment">// in the state they will be kept with the following structure:</span>
  <span class="hljs-comment">// {</span>
  <span class="hljs-comment">//   someId: {</span>
  <span class="hljs-comment">//     5: {</span>
  <span class="hljs-comment">//       isPending: true,</span>
  <span class="hljs-comment">//       fetched: false,</span>
  <span class="hljs-comment">//       data: null,</span>
  <span class="hljs-comment">//       error: null,</span>
  <span class="hljs-comment">//     },</span>
  <span class="hljs-comment">//   },</span>
  <span class="hljs-comment">// }</span>
  nesting: ({ quantity, id }) =&gt; [id, quantity],
});
</code></pre>
<h2 id="middleware">Middleware</h2>
<p>In order to use this library, you have to apply middleware, which will handle functions returned from dispatched actions. Very basic one is provided by this package:</p>
<blockquote>
<p><a href="https://redux-tiles.js.org/api/createMiddleware.html" target="_blank">Full documentation for middleware</a>
```javascript
import { createMiddleware } from &apos;redux-tiles&apos;;</p>
</blockquote>
<p>// these are not required, but adding them allows you
// to do Dependency Injection pattern, so it is easier to test
import actions from &apos;../actions&apos;;
import selectors from &apos;../selectors&apos;;</p>
<p>// it is a good idea to put API layer inside middleware, so
// you can easily separate client and server, for instance
import api from &apos;../utils/api&apos;;</p>
<p>// this object is optional. every property will be available inside
// <code>fn</code> of all tiles
// also, <code>waitTiles</code> is helpful for server-side-rendering
const { middleware, waitTiles } = createMiddleware({ actions, selectors, api });
applyMiddleware(middleware);</p>
<pre><code>
Also, [redux-thunk](https://github.com/gaearon/redux-thunk) is supported, and in order to pass your own properties you should [inject this object to redux-thunk](https://github.com/gaearon/redux-thunk#injecting-a-custom-argument). Also, there is nothing bad to just import actions and selectors on top of the files, but then testing might require much more mocking, which can make your tests more brittle.

## Server-side Rendering

&gt; [Article about SSR with prefetch](http://blog.bloomca.me/2017/06/11/server-side-rendering-with-prefetch.html)

Redux-tiles support requests on the server side. In order to do that correctly, you are supposed to create actions for each request in Node.js. Redux-Tiles has caching for async requests (and keeps them inside middleware, so they are not shared between different user requests) &#x2013; it keeps list of all active promises, so you might accidentaly share this part of the memory with other users!

Also, to make this part of functionality working, you have to use redux-tiles middleware, or pass `promisesStorage` object to redux-thunk additional object (more in [caching section in docs](https://redux-tiles.js.org/api/createTile.html#caching)).

```javascript
import { createMiddleware, createEntities } from &apos;redux-tiles&apos;;
import { createStore, applyMiddleware } from &apos;redux&apos;;
import tiles from &apos;../../common/tiles&apos;;

const { actions, reducer, selectors } = createEntities(tiles);
const { middleware, waitTiles } = createMiddleware({ actions, selectors });
const store = createStore(reducer, {}, applyMiddleware(middleware));

// this is a futile render. It is needed only to kickstart requests
// unfortunately, there is no way to avoid it
renderApplication(req);

// wait for all requests which were fired during the render
await waitTiles();

// this time you can safely render your application &#x2013; all requests
// which were in `componentWillMount` will be fullfilled
// remember, `componentDidMount` is not fired on the server
res.send(renderApplication(req));
</code></pre><p>There is also a package <a href="https://github.com/Bloomca/delounce" target="_blank">delounce</a>, from where you can get <code>limit</code> function, which will render the application if requests are taking too long.</p>
<h2 id="selectors">Selectors</h2>
<blockquote>
<p><a href="https://redux-tiles.js.org/advanced/selectors.html" target="_blank">Full documentation on selectors</a></p>
</blockquote>
<p>All tiles provide selectors. After you&apos;ve collected all tiles, invoke <code>createSelectors</code> function with possible change of default namespace, and after you can just use it based on the passed type:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { createTile, createSelectors } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux-tiles&apos;</span>;

<span class="hljs-keyword">const</span> tile = createTile({
  type: [<span class="hljs-string">&apos;user&apos;</span>, <span class="hljs-string">&apos;auth&apos;</span>],
  fn: ...,
  nesting: ({ id }) =&gt; [id],
});

<span class="hljs-keyword">const</span> tiles = [tile];

<span class="hljs-keyword">const</span> selectors = createSelectors(tiles);

<span class="hljs-comment">// second argument is params with which you dispatch action &#x2013; it will get data</span>
<span class="hljs-comment">// for corresponding nesting</span>
<span class="hljs-keyword">const</span> { isPending, fetched, data, error } = selectors.user.auth(state, { id: <span class="hljs-string">&apos;456&apos;</span> });
</code></pre>
<h2 id="tests">Tests</h2>
<p>Almost all business logic will be contained in &quot;complex&quot; tiles, which don&apos;t do requests by themselves, rather dispatching other tiles, composing results from them. It is very important to pass all needed functions via middleware, so you can easily mock it without relying on other modules. All passed data is available in tiles via <code>reflect</code> property.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { createTile } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux-tiles&apos;</span>;

<span class="hljs-keyword">const</span> params = {
  type: [<span class="hljs-string">&apos;auth&apos;</span>, <span class="hljs-string">&apos;token&apos;</span>],
  fn: ({ api, params }) =&gt; api.post(<span class="hljs-string">&apos;/token&apos;</span>, params),
};
<span class="hljs-keyword">const</span> tile = createTile(params);

<span class="hljs-comment">// same object</span>
assert(tile.reflect === params); <span class="hljs-comment">// true</span>
</code></pre>
<h2 id="contributing">Contributing</h2>
<p>All suggestions or participating are welcome! If you have any idea about improving API, or bringing some common functionality, don&apos;t hesitate, but please create an issue.
Also, in case you really think something is missing or wrong, please create an issue first, where we will discuss the problem and possible solutions, and then we can agree on implementation details.</p>
<h2 id="license">LICENSE</h2>
<p>MIT</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="introduction/" class="navigation navigation-next " aria-label="Next page: Introduction">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Read Me","level":"1.2","depth":1,"next":{"title":"Introduction","level":"1.3","depth":1,"path":"introduction/README.md","ref":"./introduction/README.md","articles":[{"title":"Motivation","level":"1.3.1","depth":2,"path":"introduction/Motivation.md","ref":"./introduction/Motivation.md","articles":[]},{"title":"Redux Boilerplate Overview","level":"1.3.2","depth":2,"path":"introduction/Boilerplate.md","ref":"./introduction/Boilerplate.md","articles":[]},{"title":"Comparison with other Solutions","level":"1.3.3","depth":2,"path":"introduction/Comparison.md","ref":"./introduction/Comparison.md","articles":[]},{"title":"Example","level":"1.3.4","depth":2,"path":"introduction/Example.md","ref":"./introduction/Example.md","articles":[]}]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Seva Zaikov <seva.zaikov@gmail.com>","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Redux-Tiles documentation","gitbook":"*"},"file":{"path":"original_readme.md","mtime":"2017-09-01T06:09:10.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-09-01T06:09:48.368Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

